<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Choropleth Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        #map {
            height: 600px;
        }
        .info {
            padding: 6px 8px;
            font: 14px/16px Arial, Helvetica, sans-serif;
            background: white;
            background: rgba(255,255,255,0.8);
            box-shadow: 0 0 15px rgba(0,0,0,0.2);
            border-radius: 5px;
        }
        .info h4 {
            margin: 0 0 5px;
            color: #777;
        }
        .legend {
            line-height: 18px;
            color: #555;
        }
        .legend i {
            width: 18px;
            height: 18px;
            float: left;
            margin-right: 8px;
            opacity: 0.7;
        }
    </style>
</head>
<body>
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        var map = L.map('map').setView([32.8, -86.9], 6);

        var tiles = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);

        var statesData = {
            "type": "FeatureCollection",
            "features": [
                {
                    "type": "Feature",
                    "properties": {"name": "Alabama", "density": 94.65},
                    "geometry": {
                        "type": "Polygon",
                        "coordinates": [[[-87.359296, 35.00118],[-85.606675, 34.984749],[-85.431413, 34.124869],[-85.184951, 32.859696],[-85.069935, 32.580372],[-84.960397, 32.421541],[-85.004212, 32.322956],[-84.889196, 32.262709],[-85.058981, 32.13674],[-85.053504, 32.01077],[-85.141136, 31.840985],[-85.042551, 31.539753],[-85.113751, 31.27686],[-85.004212, 31.003013],[-85.497137, 30.997536],[-87.600282, 30.997536],[-87.633143, 30.86609],[-87.408589, 30.674397],[-87.446927, 30.510088],[-87.37025, 30.427934],[-87.518128, 30.280057],[-87.655051, 30.247195],[-87.90699, 30.411504],[-87.934375, 30.657966],[-88.011052, 30.685351],[-88.10416, 30.499135],[-88.137022, 30.318396],[-88.394438, 30.367688],[-88.471115, 31.895754],[-88.241084, 33.796253],[-88.098683, 34.891641],[-88.202745, 34.995703],[-87.359296, 35.00118]]]
                    }
                },
                {
                    "type": "Feature",
                    "properties": {"name": "Georgia", "density": 169.5},
                    "geometry": {
                        "type": "Polygon",
                        "coordinates": [[[-85.605165, 34.984749],[-84.320265, 34.990226],[-83.618546, 34.984749],[-83.109191, 34.985656],[-83.322791, 34.627622],[-83.339129, 34.78797],[-83.005625, 34.867134],[-82.901563, 34.749517],[-82.747209, 34.6823],[-82.714347, 34.661352],[-82.556943, 34.48809],[-82.325089, 34.48624],[-82.194199, 34.267291],[-82.049158, 34.143261],[-81.928665, 33.854771],[-81.937118, 33.667555],[-81.761856, 33.422115],[-81.493674, 33.347144],[-81.427405, 33.207441],[-81.049403, 33.007522],[-80.518598, 32.887007],[-79.997859, 32.777291],[-79.937612, 32.83],[-79.652406, 32.6866],[-79.581206, 32.509365],[-79.326086, 32.428203],[-79.196139, 32.24],[-79.08356, 32.24547],[-78.554196, 32.120823],[-78.541422, 32.033185],[-78.720161, 32.048302],[-78.737885, 32.240259],[-78.92157, 32.447136],[-79.087891, 32.5918],[-79.257749, 32.778016],[-79.418097, 32.753539],[-79.526814, 32.843265],[-79.720771, 32.946214],[-79.912728, 33.03594],[-80.181436, 33.20119],[-80.449649, 33.370104],[-80.56861, 33.463213],[-80.75172, 33.631074],[-80.797997, 33.758268],[-81.032761, 33.857853],[-81.182044, 33.929053],[-81.427405, 34.152981],[-81.492151, 34.267291],[-81.761856, 34.439554],[-81.937118, 34.80401],[-81.926192, 34.819128],[-82.194199, 34.927844],[-82.325089, 34.78797],[-82
                    }
                }
            ]
        };

        function getColor(d) {
            return d > 1000 ? '#800026' :
                d > 500  ? '#BD0026' :
                d > 200  ?

            